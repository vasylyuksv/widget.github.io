<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>KWizbot widget embed demo</title>
    <meta name="description" content="Wizbot widget demo Page">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    <style>
        .main-app--active {
            position: absolute !important;
            bottom: 0 !important;
        }
    </style>
</head>
<body>
<h1>Just simple html file2</h1>
<p>With some body</p>
    <a href="https://google.com" style="float:right;">Test PUSH Me</a>
<!--<p><a href="#" onclick="kw_event('command', {title: 'New perfect title' });">Click me</a></p>-->
<!-- I've started with just direct loading from dist folder-->
<!--
<script src="./../widget-client/dist/js/chunk-vendors.0b0ab77e.js"></script>
<script src="./../widget-client/dist/js/app.47852592.js"></script>-->
<!--  wrapped version is better but still not perfect -->
<!--<script async src = "http://localhost:3014/kwjs.js"></script>-->
<!--<div id="kwizbot_widget"></div>-->
<!--<script>-->
<!--	(function (k, w, i, z, b, o, t) {k['KwizbotWidget'] = b; k[b] = k[b] || function () { w.head.insertAdjacentHTML('beforeend', '<style type="text/css">.showAfterCssLoaded{display: none}</style>'); (k[b].q = k[b].q || []).push(arguments) }, k[b].l = 1 * new Date(); o = w.createElement(i), t = w.getElementsByTagName(i)[0]; o.async = 1; o.src = z; t.parentNode.insertBefore(o, t) })(window, document, 'script', 'http://localhost:60001/kwjs.js', 'kw');-->
<!--	kw('init', {"language_code":"uk","bot_id":48,"params_from_site":{}})-->
<!--</script>-->
<!--<script src="//code.jivo.ru/widget/3TB3R0NWF8" async></script>-->
<!-- <script src="//code.jivosite.com/widget/6jlQ28BEj2" async></script> -->
    <!-- Start of LiveChat (www.livechat.com) code -->
<!-- <script>
    window.__lc = window.__lc || {};
    window.__lc.license = 16040340;
    ;(function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:"2.0",on:function(){i(["on",c.call(arguments)])},once:function(){i(["once",c.call(arguments)])},off:function(){i(["off",c.call(arguments)])},get:function(){if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return i(["get",c.call(arguments)])},call:function(){i(["call",c.call(arguments)])},init:function(){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice))
</script>
<noscript><a href="https://www.livechat.com/chat-with/16040340/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechat.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a></noscript>-->
<!-- End of LiveChat code --> 
<!--<script src="//code.tidio.co/nogdczpfxbzibwsup5lacqzsrkbcru5f.js" async></script>-->
<!--<div id="kwizbot_widget"></div>
<script>
(function (k, w, i, z, b, o, t) {k['KwizbotWidget'] = b; k[b] = k[b] || function () { w.head.insertAdjacentHTML('beforeend', '<style type="text/css">.showAfterCssLoaded{display: none}</style>'); (k[b].q = k[b].q || []).push(arguments) }, k[b].l = 1 * new Date(); o = w.createElement(i), t = w.getElementsByTagName(i)[0]; o.async = 1; o.src = z; t.parentNode.insertBefore(o, t) })(window, document, 'script', 'https://widget-centredo.kwizbot.io/kwjs.js', 'kw');
kw('init', {"language_code":"uk","bot_id":1,"params_from_site":{}})  
</script>-->
<div id="kwizbot_widget"></div>
<script defer>

(function (k, w, i, z, b, o, t) {k['KwizbotWidget'] = b; k[b] = k[b] || function () { w.head.insertAdjacentHTML('beforeend', '<style type="text/css">.showAfterCssLoaded{display: none} .sc-powered-by{display:none} @media screen and (min-width: 451px) {.sc-chat-window{max-height: 550px;}} #kwizbot_widget .sc-launcher{bottom:50px; right:unset; left:50px;} #kwizbot_widget .sc-chat-window--widget{right: unset; left: 25px;} @media (max-width: 450px){#kwizbot_widget .sc-chat-window--widget{left: 0;}}</style>'); (k[b].q = k[b].q || []).push(arguments) }, k[b].l = 1 * new Date(); o = w.createElement(i), t = w.getElementsByTagName(i)[0]; o.async = 1; o.src = z; t.parentNode.insertBefore(o, t) })(window, document, 'script', 'https://widget-samsung.kwizbot.io/kwjs.js', 'kw');

kw('init', {"language_code":"uk","bot_id":"23","title":"Консультант SAMSUNG","subtitle":"","params_from_site":{"url":window.location.href,"type":"tv-it"},"widgetButton":{"type":"button","position":{"y":"bottom","x":"right","offset":25}},"colors":{"device":{"bg":"#FCFCFC","dot":"#95CBFB","border":"#188BE4","container":"#FCFCFC"},"keyboardButton":{"border":"#00B3E3","bg":"#00B3E3","text":"#FFFFFF"},"header":{"bg":"#00B3E3","text":"#ffffff"},"poweredLink":{"color":"#188BE4"},"userInput":{"bg":"#eaeaea","border":"#75787B","text":"#565867"},"sentMessage":{"bg":"#00B3E3","text":"#ffffff"},"receivedMessage":{"bg":"#eaeaea","text":"#222222"},"inlineKeyboardButton":{"bg":"#00B3E3","text":"#00B3E3","bgc":"#ffffff"}},"displayMode":"widget","launcher":{"type":"icon","closeIcon":"close","openIcon":"chat_bubble"},"recognize_user_meta":"false","titleImageUrl":"https://storage.static.kwizbot.io/samsung.kwizbot.io/static/photo_2024-02-07_16-55-35.jpg","botAvatarImageUrl":"https://storage.static.kwizbot.io/samsung.kwizbot.io/static/photo_2024-02-07_16-55-35.jpg","open_on_msg":false,"btn_restart_enabled":false}) 
</script>

    <div id="externalSystemContainer">
        <!--This is external system container where you can place plugin buttons -->
        <button id="undoButton" class="control-button">Undo</button>
        <button id="redoButton" class="control-button">Redo</button>
        <button id="codeEditor" class="control-button">Code editor</button>
        <span id="changeHistoryContainer" style="display: none;">Last change: <a id="changeHistoryLink"></a></span>
    </div>
    <div class="notification-zone"></div>
    <div>
        <!--Plugin containers -->
        <div id="stripoSettingsContainer">Loading...</div>
        <div id="stripoPreviewContainer"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
    <script>
        // Utility methods
        function request(method, url, data, callback) {
            var req = new XMLHttpRequest();
            req.onreadystatechange = function () {
                if (req.readyState === 4 && req.status === 200) {
                    callback(req.responseText);
                } else if (req.readyState === 4 && req.status !== 200) {
                    console.error('Can not complete request. Please check you entered a valid PLUGIN_ID and SECRET_KEY values');
                }
            };
            req.open(method, url, true);
            if (method !== 'GET') {
                req.setRequestHeader('content-type', 'application/json');
            }
            req.send(data);
        }

        function loadDemoTemplate(callback) {
            request('GET', 'https://raw.githubusercontent.com/ardas/stripo-plugin/master/Public-Templates/Basic-Templates/Trigger%20newsletter%20mockup/Trigger%20newsletter%20mockup.html', null, function(html) {
                request('GET', 'https://raw.githubusercontent.com/ardas/stripo-plugin/master/Public-Templates/Basic-Templates/Trigger%20newsletter%20mockup/Trigger%20newsletter%20mockup.css', null, function(css) {
                    callback({html: html, css: css});
                });
            });
        }
    </script>

    <script>
        // Call this function to start plugin.
        // For security reasons it is STRONGLY recommended NOT to store your PLUGIN_ID and SECRET_KEY on client side.
        // Please use backend middleware to authenticate plugin.
        // See documentation: https://stripo.email/plugin-api/
        function initPlugin(template) {
            const apiRequestData = {
                emailId: 123
            };
            const script = document.createElement('script');
            script.id = 'stripoScript';
            script.type = 'text/javascript';
            script.src = 'https://plugins.stripo.email/static/latest/stripo.js';
            script.onload = function () {
                window.Stripo.init({
                    settingsId: 'stripoSettingsContainer',
                    previewId: 'stripoPreviewContainer',
                    codeEditorButtonId: 'codeEditor',
                    undoButtonId: 'undoButton',
                    redoButtonId: 'redoButton',
                    locale: 'en',
                    html: template.html,
                    css: template.css,
                    apiRequestData: apiRequestData,
                    userFullName: 'Plugin Demo User',
                    versionHistory: {
                        changeHistoryLinkId: 'changeHistoryLink',
                        onInitialized: function(lastChangeIndoText) {
                            $('#changeHistoryContainer').show();
                        }
                    },
                    getAuthToken: function (callback) {
                        request('POST', 'https://plugins.stripo.email/api/v1/auth',
                            JSON.stringify({
                                pluginId: 'de100fba94c34f038bf7ec5f86ee083a',
                                secretKey: '48c46bf5265f40998a2148ec136b984d'
                            }),
                            function(data) {
                                callback(JSON.parse(data).token);
                            });
                    }
                });
            };
            document.body.appendChild(script);
        }

        loadDemoTemplate(initPlugin);
    </script>
</body>


</body>
</html>
